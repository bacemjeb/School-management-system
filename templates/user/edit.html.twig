{% extends 'base.html.twig' %}

{% block breadcrumb %}
    <h3 class="m-subheader__title m-subheader__title--separator">
        Modification de compte Utilisateur
    </h3>
    <ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
        <li class="m-nav__item m-nav__item--home">
            <a href="{{ path('user_index') }}" class="m-nav__link m-nav__link--icon">
                <i class="m-nav__link-icon la la-home"></i>
            </a>
        </li>
        <li class="m-nav__separator">
            -
        </li>
        <li class="m-nav__item">
            <a href="{{ path('user_index') }}" class="m-nav__link">
                <span class="m-nav__link-text">
                    Liste des Utilisateurs
                </span>
            </a>
        </li>
        <li class="m-nav__separator">
            -
        </li>
        <li class="m-nav__item">
            <a href="{{ path('user_edit', {'id':user.id}) }}" class="m-nav__link">
                <span class="m-nav__link-text">
                    Modification de compte Utilisateur
                </span>
            </a>
        </li>
    </ul>

{% endblock %}

{% block bodycontent %}
    <div class="row block-content">
        <div class="col-lg-12">
            <!--begin::Portlet-->
            <div class="m-portlet m-portlet--primary m-portlet--head-solid-bg m-portlet--head-sm" m-portlet="true" id="m_portlet_tools_1">
                <div class="m-portlet__head">
                    <div class="m-portlet__head-caption">
                        <div class="m-portlet__head-title">
                            <h3 class="m-portlet__head-text">
                                Information Utilisateur
                            </h3>
                        </div>
                    </div>

                </div>
                {{ form_start(form, { 'attr' : { 'class': 'm-form m-form--fit m-form--label-align-right', 'id': 'edit_user', 'id-user':user.id } }) }}    
                <div class="m-portlet__body">

                    <div class="form-group m-form__group row">
                        <div class="col-lg-12">
                            <div class="m-radio-inline" id="user_role">
                                {% for child in form.roles %}

                                    <label class="mt-radio">
                                        {% if is_granted('ROLE_SUPER_ADMIN') %}
                                            {{ form_widget(child, {'attr': {'class': 'm-radio m-radio--solid role'}}) }}
                                        {%endif%}
                                        {% if is_granted('ROLE_ADMIN') %}
                                            {{ form_widget(child, {'attr': {'class': 'm-radio m-radio--solid role',  'disabled':'disabled'}}) }}
                                        {%endif%}
                                        {{ form_label(child) }}

                                        <span></span>
                                    </label>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                 
                    <div class="form-group m-form__group row">
                        <div class="col-lg-6">
                            <label >
                                Identifiant*
                            </label>

                            {{ form_widget(form.username, {'attr': {'class': 'form-control m-input', 'placeholder':'Identifiant'}}) }}

                        </div>

                        <div class="col-lg-6">

                        </div>

                    </div>
                    <div class="form-group m-form__group row" >
                        <div class="col-lg-6">
                            <label >
                                E-mail*
                            </label>

                            {{ form_widget(form.email, {'attr': {'class': 'form-control m-input', 'placeholder':'E-mail'}}) }}

                        </div>
  

                    </div>
                    <div class="form-group m-form__group row"  >
                        <div class="col-lg-6">
                            <label >
                                Etat
                            </label>

                            {{ form_widget(form.enabled, {'attr': {'class': 'form-control m-input input-chek'}}) }}


                        </div>
  
                    </div>
              



                    <div class="m-form__actions">
                        <div class="row">
                            <div class="col-lg-12">
                                {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary pull-left'}, 'label': 'Valider et rester'}) }}
                                {{ form_widget(form.save_listing, {'attr': {'class': 'btn btn-primary pull-right margin-right'}, 'label': 'Valider et acc√©der au listing'}) }}
                            </div>
                        </div>
                    </div>
                    
                </div>
                {{ form_errors(form) }}
                {{ form_rest(form) }}
                {{ form_end(form) }}

            </div>

            <!--end::Portlet-->
        </div>

    </div>

{% endblock %}
